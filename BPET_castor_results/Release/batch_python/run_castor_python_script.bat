@echo off
:: Batch script generated by Python GUI to run the CASToR program
:: To get help run the main programm in the comman-line withou any argument or with 'h', '-help' or '--help' options

:::::::::::::::::::::::::::::
:: Set Command Line Options
:::::::::::::::::::::::::::::

@REM MPI enabled with 0 threads
set mpi_exe=mpiexec.exe
set recon_exe=..\castor-recon.exe

set verbose= -vb 2
set threads= -th 0

set stats= -opti-stat
set last_it=
set flip_out=

set datafile= -df ..\..\Files\CASToR_data\CASToR_Derenzo_all_Geom_rsmall_z2s_df.Cdh
set output= -dout ..\..\Results
set sensitivity=
set configuration=

set voxel_number= -dim 200,200,50
set voxel_size= -vox 0.2,0.2,0.4
set offset= -off 0.0,-45.0,-8.0

set iterations= -it 2:50,2:10,5:5
set optimizer= -opti MLEM
set projector= -proj joseph
set penalty=
set penalty_strength=
@REM Set 1 convolution(s)
set psf_1= -conv gaussian,1.0,1.0,3.0::psf

:::::::::::::::::::::::::::::
:: Launch the reconstruction
:::::::::::::::::::::::::::::

echo ==========================================================
echo Reconstruction is going on. Should take several minutes
echo ==========================================================

%mpi_exe% %recon_exe% %verbose% %threads% %stats% %last_it% %flip_out% %datafile% %output% %sensitivity% %configuration% %voxel_number% %voxel_size% %offset% %iterations% %optimizer% %projector% %penalty% %penalty_strength% %psf_1% 

echo ==========================================================
echo Reconstruction is finished!
echo ==========================================================

